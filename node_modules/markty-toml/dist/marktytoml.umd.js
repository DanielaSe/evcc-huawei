!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.marktytoml=t()}(this,function(){function n(t,e,r,i){void 0===i&&(i=!1);for(var s,f,o,a=0,u="",_=e;f=_.exec(t);)s=t.substring(a,f.index),a=_.lastIndex,o=r&&"function"==typeof r?r(t,f):r,u+=s,u+=o;return u+=t.substring(a),_.test(u)&&!0===i?n(u,new RegExp(_),r,!0):u}function t(t){var f=new RegExp("^\\s*\\[(\\[)?(.*?)\\]\\]?(?= *$)((?:[\\w\\W](?!^\\s*\\[))*)","gm"),o={};return t="["===t[0]?t:"[]\n"+t,t=t.replace(/('{3,}(?:(?!'{3,})[\w\W]+?)'{3,})/gm,function(n,t){if(t)return t.replace(/^(\s*)(\[)/gm,"$1__>>[<<__")}),n(t,f,function(n,t){t[1]?r(o,t[2].trim(),e(t[3]),!0):""===t[2]?o=Object.assign({},o,e(t[3])):r(o,t[2].trim(),e(t[3]),!1)}),JSON.parse(JSON.stringify(o,i),s)}function e(t){var e=new RegExp("^[ \t]*(.+?) *[=:] *(?:\"((?!\")[\\w\\W]+?)\"|'{3,}((?!'{3,})[\\w\\W]+?)'{3,}|(\\[[\\w\\W]+?(?:(?: *])+ *$\\n*)+)|(\\{[\\w\\W]+?(?:(?: *})+ *$\\n*)+)|(.+) *)|^(.+)$","gm"),r={};return n(t,e,function(n,t){var e,i;if(t[1]){if("#"===t[1].charAt(0))return;return e='"'===t[1].charAt(0)&&'"'===t[1].charAt(t[1].length-1)?t[1].slice(1,-1):t[1],(t[2]||t[3])&&(i=t[2]||t[3].replace(/^(\s*)(__>>\[<<__)/gm,"$1[")),(t[4]||t[5])&&(i=JSON.parse(""+(t[4]||t[5]))),t[6]&&(t[6]=t[6].trim(),i=+t[6]==+t[6]?Number(t[6]):"true"===t[6]||"false"===t[6]?"true"===t[6]:"inf"===t[6]||"+inf"===t[6]?1/0:"-inf"===t[6]?-1/0:parseInt(t[6],16).toString(16)===t[6].toLowerCase()?parseInt(t[6],16):parseInt(t[6],8).toString(8)===t[6].toLowerCase()?parseInt(t[6],8):parseInt(t[6],2).toString(2)===t[6].toLowerCase()?parseInt(t[6],2):t[6]),r[e]=i,""}if(t[7])return""}),r}function r(n,t,e,r){r=!!r,t.split&&(t=t.split("."));for(var i,s=0,f=t.length,o=n;s<f;++s)t[s]=t[s].trim(),t[s]='"'===t[s].substr(0,1)&&'"'===t[s].substr(-1)?t[s].slice(1,-1):t[s],o instanceof Array?(i=o[o.length-1],s--):i=o[t[s]],s===f-1?i instanceof Array?o[t[s]].push(e):o[t[s]]=r?[e]:e:o=i instanceof Array?i:o[t[s]]=null==i?{}:i}var i=function(n,t){return t!==t?"__>>NaN<<__":t===1/0?"__>>Inf<<__":t===-1/0?"__>>-Inf<<__":t},s=function(n,t){return"__>>NaN<<__"===t?NaN:"__>>Inf<<__"===t?1/0:"__>>-Inf<<__"===t?-1/0:t};return t});
//# sourceMappingURL=marktytoml.umd.js.map