System.register(["./index-legacy-C3BDSfGU.js"],(function(e,t){"use strict";var n,o,r,i,a,s,c,l,d,p,f,u,h,m,g,v,b,y,w,x,O,_,M,L,E,k,j,C,A;return{setters:[e=>{n=e.aM,o=e.ak,r=e.al,i=e.am,a=e.ah,s=e.aj,c=e.g,l=e.X,d=e._,p=e.x,f=e.aN,u=e.aO,h=e.aP,m=e.M,g=e.aQ,v=e.aR,b=e.aS,y=e.c,w=e.a,x=e.h,O=e.n,_=e.b,M=e.d,L=e.t,E=e.F,k=e.r,j=e.e,C=e.o,A=e.i}],execute:function(){var t=document.createElement("style");t.textContent=".menu-button[data-v-59d536da]{margin-right:-.7rem}.external[data-v-59d536da]{width:18px;height:20px}.dropdown-menu[data-v-59d536da]{z-index:1045!important}\n/*$vite$:1*/",document.head.appendChild(t);var H={exports:{}},P="top",D="bottom",T="right",S="left",B="auto",I=[P,D,T,S],N="start",R="end",$="clippingParents",z="viewport",V="popper",W="reference",q=I.reduce((function(e,t){return e.concat([t+"-"+N,t+"-"+R])}),[]),U=[].concat(I,[B]).reduce((function(e,t){return e.concat([t,t+"-"+N,t+"-"+R])}),[]),F="beforeRead",K="read",Q="afterRead",X="beforeMain",Y="main",G="afterMain",J="beforeWrite",Z="write",ee="afterWrite",te=[F,K,Q,X,Y,G,J,Z,ee];function ne(e){return e?(e.nodeName||"").toLowerCase():null}function oe(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function re(e){return e instanceof oe(e).Element||e instanceof Element}function ie(e){return e instanceof oe(e).HTMLElement||e instanceof HTMLElement}function ae(e){return"undefined"!=typeof ShadowRoot&&(e instanceof oe(e).ShadowRoot||e instanceof ShadowRoot)}const se={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},r=t.elements[e];ie(r)&&ne(r)&&(Object.assign(r.style,n),Object.keys(o).forEach((function(e){var t=o[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],r=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});ie(o)&&ne(o)&&(Object.assign(o.style,i),Object.keys(r).forEach((function(e){o.removeAttribute(e)})))}))}},requires:["computeStyles"]};function ce(e){return e.split("-")[0]}var le=Math.max,de=Math.min,pe=Math.round;function fe(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function ue(){return!/^((?!chrome|android).)*safari/i.test(fe())}function he(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=e.getBoundingClientRect(),r=1,i=1;t&&ie(e)&&(r=e.offsetWidth>0&&pe(o.width)/e.offsetWidth||1,i=e.offsetHeight>0&&pe(o.height)/e.offsetHeight||1);var a=(re(e)?oe(e):window).visualViewport,s=!ue()&&n,c=(o.left+(s&&a?a.offsetLeft:0))/r,l=(o.top+(s&&a?a.offsetTop:0))/i,d=o.width/r,p=o.height/i;return{width:d,height:p,top:l,right:c+d,bottom:l+p,left:c,x:c,y:l}}function me(e){var t=he(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function ge(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ae(n)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function ve(e){return oe(e).getComputedStyle(e)}function be(e){return["table","td","th"].indexOf(ne(e))>=0}function ye(e){return((re(e)?e.ownerDocument:e.document)||window.document).documentElement}function we(e){return"html"===ne(e)?e:e.assignedSlot||e.parentNode||(ae(e)?e.host:null)||ye(e)}function xe(e){return ie(e)&&"fixed"!==ve(e).position?e.offsetParent:null}function Oe(e){for(var t=oe(e),n=xe(e);n&&be(n)&&"static"===ve(n).position;)n=xe(n);return n&&("html"===ne(n)||"body"===ne(n)&&"static"===ve(n).position)?t:n||function(e){var t=/firefox/i.test(fe());if(/Trident/i.test(fe())&&ie(e)&&"fixed"===ve(e).position)return null;var n=we(e);for(ae(n)&&(n=n.host);ie(n)&&["html","body"].indexOf(ne(n))<0;){var o=ve(n);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return n;n=n.parentNode}return null}(e)||t}function _e(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Me(e,t,n){return le(e,de(t,n))}function Le(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Ee(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}const ke={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,o=e.name,r=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=ce(n.placement),c=_e(s),l=[S,T].indexOf(s)>=0?"height":"width";if(i&&a){var d=function(e,t){return Le("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Ee(e,I))}(r.padding,n),p=me(i),f="y"===c?P:S,u="y"===c?D:T,h=n.rects.reference[l]+n.rects.reference[c]-a[c]-n.rects.popper[l],m=a[c]-n.rects.reference[c],g=Oe(i),v=g?"y"===c?g.clientHeight||0:g.clientWidth||0:0,b=h/2-m/2,y=d[f],w=v-p[l]-d[u],x=v/2-p[l]/2+b,O=Me(y,x,w),_=c;n.modifiersData[o]=((t={})[_]=O,t.centerOffset=O-x,t)}},effect:function(e){var t=e.state,n=e.options.element,o=void 0===n?"[data-popper-arrow]":n;null!=o&&("string"!=typeof o||(o=t.elements.popper.querySelector(o)))&&ge(t.elements.popper,o)&&(t.elements.arrow=o)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function je(e){return e.split("-")[1]}var Ce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ae(e){var t,n=e.popper,o=e.popperRect,r=e.placement,i=e.variation,a=e.offsets,s=e.position,c=e.gpuAcceleration,l=e.adaptive,d=e.roundOffsets,p=e.isFixed,f=a.x,u=void 0===f?0:f,h=a.y,m=void 0===h?0:h,g="function"==typeof d?d({x:u,y:m}):{x:u,y:m};u=g.x,m=g.y;var v=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),y=S,w=P,x=window;if(l){var O=Oe(n),_="clientHeight",M="clientWidth";O===oe(n)&&"static"!==ve(O=ye(n)).position&&"absolute"===s&&(_="scrollHeight",M="scrollWidth"),(r===P||(r===S||r===T)&&i===R)&&(w=D,m-=(p&&O===x&&x.visualViewport?x.visualViewport.height:O[_])-o.height,m*=c?1:-1),r!==S&&(r!==P&&r!==D||i!==R)||(y=T,u-=(p&&O===x&&x.visualViewport?x.visualViewport.width:O[M])-o.width,u*=c?1:-1)}var L,E=Object.assign({position:s},l&&Ce),k=!0===d?function(e,t){var n=e.x,o=e.y,r=t.devicePixelRatio||1;return{x:pe(n*r)/r||0,y:pe(o*r)/r||0}}({x:u,y:m},oe(n)):{x:u,y:m};return u=k.x,m=k.y,c?Object.assign({},E,((L={})[w]=b?"0":"",L[y]=v?"0":"",L.transform=(x.devicePixelRatio||1)<=1?"translate("+u+"px, "+m+"px)":"translate3d("+u+"px, "+m+"px, 0)",L)):Object.assign({},E,((t={})[w]=b?m+"px":"",t[y]=v?u+"px":"",t.transform="",t))}const He={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,o=n.gpuAcceleration,r=void 0===o||o,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,c=void 0===s||s,l={placement:ce(t.placement),variation:je(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ae(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ae(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Pe={passive:!0};const De={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,o=e.options,r=o.scroll,i=void 0===r||r,a=o.resize,s=void 0===a||a,c=oe(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&l.forEach((function(e){e.addEventListener("scroll",n.update,Pe)})),s&&c.addEventListener("resize",n.update,Pe),function(){i&&l.forEach((function(e){e.removeEventListener("scroll",n.update,Pe)})),s&&c.removeEventListener("resize",n.update,Pe)}},data:{}};var Te={left:"right",right:"left",bottom:"top",top:"bottom"};function Se(e){return e.replace(/left|right|bottom|top/g,(function(e){return Te[e]}))}var Be={start:"end",end:"start"};function Ie(e){return e.replace(/start|end/g,(function(e){return Be[e]}))}function Ne(e){var t=oe(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Re(e){return he(ye(e)).left+Ne(e).scrollLeft}function $e(e){var t=ve(e),n=t.overflow,o=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function ze(e){return["html","body","#document"].indexOf(ne(e))>=0?e.ownerDocument.body:ie(e)&&$e(e)?e:ze(we(e))}function Ve(e,t){var n;void 0===t&&(t=[]);var o=ze(e),r=o===(null==(n=e.ownerDocument)?void 0:n.body),i=oe(o),a=r?[i].concat(i.visualViewport||[],$e(o)?o:[]):o,s=t.concat(a);return r?s:s.concat(Ve(we(a)))}function We(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function qe(e,t,n){return t===z?We(function(e,t){var n=oe(e),o=ye(e),r=n.visualViewport,i=o.clientWidth,a=o.clientHeight,s=0,c=0;if(r){i=r.width,a=r.height;var l=ue();(l||!l&&"fixed"===t)&&(s=r.offsetLeft,c=r.offsetTop)}return{width:i,height:a,x:s+Re(e),y:c}}(e,n)):re(t)?function(e,t){var n=he(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):We(function(e){var t,n=ye(e),o=Ne(e),r=null==(t=e.ownerDocument)?void 0:t.body,i=le(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=le(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-o.scrollLeft+Re(e),c=-o.scrollTop;return"rtl"===ve(r||n).direction&&(s+=le(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:a,x:s,y:c}}(ye(e)))}function Ue(e,t,n,o){var r="clippingParents"===t?function(e){var t=Ve(we(e)),n=["absolute","fixed"].indexOf(ve(e).position)>=0&&ie(e)?Oe(e):e;return re(n)?t.filter((function(e){return re(e)&&ge(e,n)&&"body"!==ne(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),a=i[0],s=i.reduce((function(t,n){var r=qe(e,n,o);return t.top=le(r.top,t.top),t.right=de(r.right,t.right),t.bottom=de(r.bottom,t.bottom),t.left=le(r.left,t.left),t}),qe(e,a,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Fe(e){var t,n=e.reference,o=e.element,r=e.placement,i=r?ce(r):null,a=r?je(r):null,s=n.x+n.width/2-o.width/2,c=n.y+n.height/2-o.height/2;switch(i){case P:t={x:s,y:n.y-o.height};break;case D:t={x:s,y:n.y+n.height};break;case T:t={x:n.x+n.width,y:c};break;case S:t={x:n.x-o.width,y:c};break;default:t={x:n.x,y:n.y}}var l=i?_e(i):null;if(null!=l){var d="y"===l?"height":"width";switch(a){case N:t[l]=t[l]-(n[d]/2-o[d]/2);break;case R:t[l]=t[l]+(n[d]/2-o[d]/2)}}return t}function Ke(e,t){void 0===t&&(t={});var n=t,o=n.placement,r=void 0===o?e.placement:o,i=n.strategy,a=void 0===i?e.strategy:i,s=n.boundary,c=void 0===s?$:s,l=n.rootBoundary,d=void 0===l?z:l,p=n.elementContext,f=void 0===p?V:p,u=n.altBoundary,h=void 0!==u&&u,m=n.padding,g=void 0===m?0:m,v=Le("number"!=typeof g?g:Ee(g,I)),b=f===V?W:V,y=e.rects.popper,w=e.elements[h?b:f],x=Ue(re(w)?w:w.contextElement||ye(e.elements.popper),c,d,a),O=he(e.elements.reference),_=Fe({reference:O,element:y,placement:r}),M=We(Object.assign({},y,_)),L=f===V?M:O,E={top:x.top-L.top+v.top,bottom:L.bottom-x.bottom+v.bottom,left:x.left-L.left+v.left,right:L.right-x.right+v.right},k=e.modifiersData.offset;if(f===V&&k){var j=k[r];Object.keys(E).forEach((function(e){var t=[T,D].indexOf(e)>=0?1:-1,n=[P,D].indexOf(e)>=0?"y":"x";E[e]+=j[n]*t}))}return E}function Qe(e,t){void 0===t&&(t={});var n=t,o=n.placement,r=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?U:c,d=je(o),p=d?s?q:q.filter((function(e){return je(e)===d})):I,f=p.filter((function(e){return l.indexOf(e)>=0}));0===f.length&&(f=p);var u=f.reduce((function(t,n){return t[n]=Ke(e,{placement:n,boundary:r,rootBoundary:i,padding:a})[ce(n)],t}),{});return Object.keys(u).sort((function(e,t){return u[e]-u[t]}))}const Xe={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var r=n.mainAxis,i=void 0===r||r,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,l=n.padding,d=n.boundary,p=n.rootBoundary,f=n.altBoundary,u=n.flipVariations,h=void 0===u||u,m=n.allowedAutoPlacements,g=t.options.placement,v=ce(g),b=c||(v!==g&&h?function(e){if(ce(e)===B)return[];var t=Se(e);return[Ie(e),t,Ie(t)]}(g):[Se(g)]),y=[g].concat(b).reduce((function(e,n){return e.concat(ce(n)===B?Qe(t,{placement:n,boundary:d,rootBoundary:p,padding:l,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,x=t.rects.popper,O=new Map,_=!0,M=y[0],L=0;L<y.length;L++){var E=y[L],k=ce(E),j=je(E)===N,C=[P,D].indexOf(k)>=0,A=C?"width":"height",H=Ke(t,{placement:E,boundary:d,rootBoundary:p,altBoundary:f,padding:l}),I=C?j?T:S:j?D:P;w[A]>x[A]&&(I=Se(I));var R=Se(I),$=[];if(i&&$.push(H[k]<=0),s&&$.push(H[I]<=0,H[R]<=0),$.every((function(e){return e}))){M=E,_=!1;break}O.set(E,$)}if(_)for(var z=function(e){var t=y.find((function(t){var n=O.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return M=t,"break"},V=h?3:1;V>0&&"break"!==z(V);V--);t.placement!==M&&(t.modifiersData[o]._skip=!0,t.placement=M,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ye(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ge(e){return[P,T,D,S].some((function(t){return e[t]>=0}))}const Je={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,o=t.rects.reference,r=t.rects.popper,i=t.modifiersData.preventOverflow,a=Ke(t,{elementContext:"reference"}),s=Ke(t,{altBoundary:!0}),c=Ye(a,o),l=Ye(s,r,i),d=Ge(c),p=Ge(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:d,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}},Ze={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,o=e.name,r=n.offset,i=void 0===r?[0,0]:r,a=U.reduce((function(e,n){return e[n]=function(e,t,n){var o=ce(e),r=[S,P].indexOf(o)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*r,[S,T].indexOf(o)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],c=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[o]=a}},et={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Fe({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})},data:{}},tt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name,r=n.mainAxis,i=void 0===r||r,a=n.altAxis,s=void 0!==a&&a,c=n.boundary,l=n.rootBoundary,d=n.altBoundary,p=n.padding,f=n.tether,u=void 0===f||f,h=n.tetherOffset,m=void 0===h?0:h,g=Ke(t,{boundary:c,rootBoundary:l,padding:p,altBoundary:d}),v=ce(t.placement),b=je(t.placement),y=!b,w=_e(v),x="x"===w?"y":"x",O=t.modifiersData.popperOffsets,_=t.rects.reference,M=t.rects.popper,L="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,E="number"==typeof L?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(O){if(i){var C,A="y"===w?P:S,H="y"===w?D:T,B="y"===w?"height":"width",I=O[w],R=I+g[A],$=I-g[H],z=u?-M[B]/2:0,V=b===N?_[B]:M[B],W=b===N?-M[B]:-_[B],q=t.elements.arrow,U=u&&q?me(q):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},K=F[A],Q=F[H],X=Me(0,_[B],U[B]),Y=y?_[B]/2-z-X-K-E.mainAxis:V-X-K-E.mainAxis,G=y?-_[B]/2+z+X+Q+E.mainAxis:W+X+Q+E.mainAxis,J=t.elements.arrow&&Oe(t.elements.arrow),Z=J?"y"===w?J.clientTop||0:J.clientLeft||0:0,ee=null!=(C=null==k?void 0:k[w])?C:0,te=I+G-ee,ne=Me(u?de(R,I+Y-ee-Z):R,I,u?le($,te):$);O[w]=ne,j[w]=ne-I}if(s){var oe,re="x"===w?P:S,ie="x"===w?D:T,ae=O[x],se="y"===x?"height":"width",pe=ae+g[re],fe=ae-g[ie],ue=-1!==[P,S].indexOf(v),he=null!=(oe=null==k?void 0:k[x])?oe:0,ge=ue?pe:ae-_[se]-M[se]-he+E.altAxis,ve=ue?ae+_[se]+M[se]-he-E.altAxis:fe,be=u&&ue?function(e,t,n){var o=Me(e,t,n);return o>n?n:o}(ge,ae,ve):Me(u?ge:pe,ae,u?ve:fe);O[x]=be,j[x]=be-ae}t.modifiersData[o]=j}},requiresIfExists:["offset"]};function nt(e,t,n){void 0===n&&(n=!1);var o,r,i=ie(t),a=ie(t)&&function(e){var t=e.getBoundingClientRect(),n=pe(t.width)/e.offsetWidth||1,o=pe(t.height)/e.offsetHeight||1;return 1!==n||1!==o}(t),s=ye(t),c=he(e,a,n),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(i||!i&&!n)&&(("body"!==ne(t)||$e(s))&&(l=(o=t)!==oe(o)&&ie(o)?{scrollLeft:(r=o).scrollLeft,scrollTop:r.scrollTop}:Ne(o)),ie(t)?((d=he(t,!0)).x+=t.clientLeft,d.y+=t.clientTop):s&&(d.x=Re(s))),{x:c.left+l.scrollLeft-d.x,y:c.top+l.scrollTop-d.y,width:c.width,height:c.height}}function ot(e){var t=new Map,n=new Set,o=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var o=t.get(e);o&&r(o)}})),o.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),o}var rt={placement:"bottom",modifiers:[],strategy:"absolute"};function it(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function at(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,o=void 0===n?[]:n,r=t.defaultOptions,i=void 0===r?rt:r;return function(e,t,n){void 0===n&&(n=i);var r,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},rt,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],l=!1,d={state:s,setOptions:function(n){var r="function"==typeof n?n(s.options):n;p(),s.options=Object.assign({},i,s.options,r),s.scrollParents={reference:re(e)?Ve(e):e.contextElement?Ve(e.contextElement):[],popper:Ve(t)};var a,l,f=function(e){var t=ot(e);return te.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((a=[].concat(o,s.options.modifiers),l=a.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(l).map((function(e){return l[e]}))));return s.orderedModifiers=f.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,o=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var i=r({state:s,name:t,instance:d,options:o}),a=function(){};c.push(i||a)}})),d.update()},forceUpdate:function(){if(!l){var e=s.elements,t=e.reference,n=e.popper;if(it(t,n)){s.rects={reference:nt(t,Oe(n),"fixed"===s.options.strategy),popper:me(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var o=0;o<s.orderedModifiers.length;o++)if(!0!==s.reset){var r=s.orderedModifiers[o],i=r.fn,a=r.options,c=void 0===a?{}:a,p=r.name;"function"==typeof i&&(s=i({state:s,options:c,name:p,instance:d})||s)}else s.reset=!1,o=-1}}},update:(r=function(){return new Promise((function(e){d.forceUpdate(),e(s)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(r())}))}))),a}),destroy:function(){p(),l=!0}};if(!it(e,t))return d;function p(){c.forEach((function(e){return e()})),c=[]}return d.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var st=at(),ct=at({defaultModifiers:[De,et,He,se]}),lt=at({defaultModifiers:[De,et,He,se,Ze,Xe,tt,ke,Je]});const dt=Object.freeze(Object.defineProperty({__proto__:null,afterMain:G,afterRead:Q,afterWrite:ee,applyStyles:se,arrow:ke,auto:B,basePlacements:I,beforeMain:X,beforeRead:F,beforeWrite:J,bottom:D,clippingParents:$,computeStyles:He,createPopper:lt,createPopperBase:st,createPopperLite:ct,detectOverflow:Ke,end:R,eventListeners:De,flip:Xe,hide:Je,left:S,main:Y,modifierPhases:te,offset:Ze,placements:U,popper:V,popperGenerator:at,popperOffsets:et,preventOverflow:tt,read:K,reference:W,right:T,start:N,top:P,variationPlacements:q,viewport:z,write:Z},Symbol.toStringTag,{value:"Module"})),pt=e("r",n(dt));
/*!
        * Bootstrap dropdown.js v5.3.3 (https://getbootstrap.com/)
        * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
        * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
        */
var ft,ut=(ft||(ft=1,function(e){e.exports=function(e,t,n,o,r,i){function a(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e)for(const n in e)if("default"!==n){const o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:()=>e[n]})}return t.default=e,Object.freeze(t)}const s=a(e),c="dropdown",l=".bs.dropdown",d=".data-api",p="Escape",f="Tab",u="ArrowUp",h="ArrowDown",m=2,g=`hide${l}`,v=`hidden${l}`,b=`show${l}`,y=`shown${l}`,w=`click${l}${d}`,x=`keydown${l}${d}`,O=`keyup${l}${d}`,_="show",M="dropup",L="dropend",E="dropstart",k="dropup-center",j="dropdown-center",C='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',A=`${C}.${_}`,H=".dropdown-menu",P=".navbar",D=".navbar-nav",T=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",S=i.isRTL()?"top-end":"top-start",B=i.isRTL()?"top-start":"top-end",I=i.isRTL()?"bottom-end":"bottom-start",N=i.isRTL()?"bottom-start":"bottom-end",R=i.isRTL()?"left-start":"right-start",$=i.isRTL()?"right-start":"left-start",z="top",V="bottom",W={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},q={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class U extends t{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=r.next(this._element,H)[0]||r.prev(this._element,H)[0]||r.findOne(H,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return W}static get DefaultType(){return q}static get NAME(){return c}toggle(){return this._isShown()?this.hide():this.show()}show(){if(i.isDisabled(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!n.trigger(this._element,b,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(D))for(const e of[].concat(...document.body.children))n.on(e,"mouseover",i.noop);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(_),this._element.classList.add(_),n.trigger(this._element,y,e)}}hide(){if(i.isDisabled(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!n.trigger(this._element,g,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))n.off(e,"mouseover",i.noop);this._popper&&this._popper.destroy(),this._menu.classList.remove(_),this._element.classList.remove(_),this._element.setAttribute("aria-expanded","false"),o.removeDataAttribute(this._menu,"popper"),n.trigger(this._element,v,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!i.isElement(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${c.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===s)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:i.isElement(this._config.reference)?e=i.getElement(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=s.createPopper(e,this._menu,t)}_isShown(){return this._menu.classList.contains(_)}_getPlacement(){const e=this._parent;if(e.classList.contains(L))return R;if(e.classList.contains(E))return $;if(e.classList.contains(k))return z;if(e.classList.contains(j))return V;const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains(M)?t?B:S:t?N:I}_detectNavbar(){return null!==this._element.closest(P)}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(o.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...i.execute(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const n=r.find(T,this._menu).filter((e=>i.isVisible(e)));n.length&&i.getNextActiveElement(n,t,e===h,!n.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=U.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(e.button===m||"keyup"===e.type&&e.key!==f)return;const t=r.find(A);for(const n of t){const t=U.getInstance(n);if(!t||!1===t._config.autoClose)continue;const o=e.composedPath(),r=o.includes(t._menu);if(o.includes(t._element)||"inside"===t._config.autoClose&&!r||"outside"===t._config.autoClose&&r)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&e.key===f||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const i={relatedTarget:t._element};"click"===e.type&&(i.clickEvent=e),t._completeHide(i)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n=e.key===p,o=[u,h].includes(e.key);if(!o&&!n)return;if(t&&!n)return;e.preventDefault();const i=this.matches(C)?this:r.prev(this,C)[0]||r.next(this,C)[0]||r.findOne(C,e.delegateTarget.parentNode),a=U.getOrCreateInstance(i);if(o)return e.stopPropagation(),a.show(),void a._selectMenuItem(e);a._isShown()&&(e.stopPropagation(),a.hide(),i.focus())}}return n.on(document,x,C,U.dataApiKeydownHandler),n.on(document,x,H,U.dataApiKeydownHandler),n.on(document,w,U.clearMenus),n.on(document,O,U.clearMenus),n.on(document,w,C,(function(e){e.preventDefault(),U.getOrCreateInstance(this).toggle()})),i.defineJQueryPlugin(U),U}(pt,o(),r(),i(),a(),s())}(H)),H.exports);const ht=e("D",c(ut));class mt extends HTMLElement{connectedCallback(){this.setAttribute("data-shopicon",!0),this.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M0 0h48v48H0z" fill="none"/><path d="M8 44h32c2.2 0 4-1.8 4-4V16c0-2.2-1.8-4-4-4h-4.349A5.97 5.97 0 0036 10a6 6 0 10-11.849 1.323L24 11.172l-.151.151c.096-.426.151-.868.151-1.323a6 6 0 10-12 0c0 .702.127 1.374.349 2H8c-2.2 0-4 1.8-4 4v24c0 2.2 1.8 4 4 4zM30 8c1.103 0 2 .897 2 2s-.897 2-2 2-2-.897-2-2 .897-2 2-2zm-4 10.828l6 6L34.828 22l-6-6H40v11H26v-8.172zM26 31h14v9H26v-9zM18 8c1.103 0 2 .897 2 2s-.897 2-2 2-2-.897-2-2 .897-2 2-2zM8 16h11.172l-6 6L16 24.828l6-6V27H8V16zm0 15h14v9H8v-9z"/></svg>'}}window.customElements.define("shopicon-regular-gift",mt);class gt extends HTMLElement{connectedCallback(){this.setAttribute("data-shopicon",!0),this.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M0 0h48v48H0z" fill="none"/><path d="M26 4v4.001h-4.001v4H26v4h4v-4h4v-4h-4V4z"/><path d="M22.585 25.415a15.979 15.979 0 01-3.512-17.342l-2.605-2.605C3.431 10.489-.255 28.434 9.858 38.143c9.864 10.092 27.519 6.511 32.674-6.609l-2.605-2.606a15.98 15.98 0 01-17.342-3.513zm12.729 9.899c-6.238 6.238-16.388 6.238-22.628 0-6.75-6.66-6.076-18.023 1.382-23.861-1.912 12.79 9.689 24.4 22.479 22.479-.382.481-.793.942-1.233 1.382z"/><path d="M32 22l4-4 4 4-4 4z"/></svg>'}}window.customElements.define("shopicon-regular-moonstars",gt);class vt extends HTMLElement{connectedCallback(){this.setAttribute("data-shopicon",!0),this.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M0 0h48v48H0z" fill="none"/><path d="M8.036 12H40v4H8.036zM8.036 22H40v4H8.036zM8.036 32H40v4H8.036z"/></svg>'}}window.customElements.define("shopicon-regular-menu",vt);class bt extends HTMLElement{connectedCallback(){this.setAttribute("data-shopicon",!0),this.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M0 0h48v48H0z" fill="none"/><path d="M40 38H8V10h12V6H4v36h40V30h-4z"/><path d="M26 6v4h11.172l-14 14L26 26.828l14-14V24h4V6z"/></svg>'}}window.customElements.define("shopicon-regular-newtab",bt);const{protocol:yt,hostname:wt,port:xt,pathname:Ot}=window.location,_t=l.create({baseURL:yt+"//"+wt+(xt?":"+xt:"")+Ot});_t.interceptors.response.use((e=>e),(e=>{const t=e.config.baseURL+e.config.url,n=`${e.message}: API request failed ${t}`;window.app.raise({message:n})}));const Mt={id:"topNavigatonDropdown",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",class:"btn btn-sm btn-outline-secondary position-relative border-0 menu-button","data-testid":"topnavigation-button"},Lt={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"topNavigatonDropdown","data-testid":"topnavigation-dropdown"},Et={key:0},kt={key:1},jt={class:"dropdown-header"},Ct=["onClick"],At={key:3},Ht={key:4};e("T",d({name:"TopNavigation",mixins:[p],props:{vehicleLogins:{type:Object,default:()=>({})},sponsor:{type:Object,default:()=>({})},forecast:Object,battery:Array,fatal:Object},data:()=>({isApp:b()}),computed:{batteryConfigured:function(){return this.battery?.length},logoutCount(){return this.providerLogins.filter((e=>!e.loggedIn)).length},providerLogins(){return Object.entries(this.vehicleLogins).map((([e,t])=>({title:e,loggedIn:t.authenticated,loginPath:t.uri+"/login",logoutPath:t.uri+"/logout"})))},loginRequired(){return this.logoutCount>0},showBadge(){const e=v(this.fatal);return this.loginRequired||this.sponsor.expiresSoon||e},badgeClass(){return this.fatal?.error?"bg-danger":"bg-warning"},batteryModalAvailable(){return this.batteryConfigured},forecastAvailable(){const{grid:e,solar:t,co2:n}=this.forecast||{};return e||t||n},showLogout:()=>g()},mounted(){document.getElementById("topNavigatonDropdown")&&(this.dropdown=new ht(document.getElementById("topNavigatonDropdown")))},unmounted(){this.dropdown?.dispose()},methods:{handleProviderAuthorization:async function(e){e.loggedIn?_t.post(e.logoutPath):_t.post(e.loginPath).then((function(e){window.location.href=e.data.loginUri}))},openSettingsModal(){m.getOrCreateInstance(document.getElementById("globalSettingsModal")).show()},openHelpModal(){m.getOrCreateInstance(document.getElementById("helpModal")).show()},openBatterySettingsModal(){m.getOrCreateInstance(document.getElementById("batterySettingsModal")).show()},openForecastModal(){m.getOrCreateInstance(document.getElementById("forecastModal")).show()},openNativeSettings(){h({type:"settings"})},async login(){u()},async logout(){await f(),this.$router.push({path:"/"})}}},[["render",function(e,t,n,o,r,i){const a=j("router-link");return C(),y("div",null,[w("button",Mt,[i.showBadge?(C(),y("span",{key:0,class:O(["position-absolute top-0 start-100 translate-middle p-2 rounded-circle",i.badgeClass])},t[6]||(t[6]=[w("span",{class:"visually-hidden"},"action required",-1)]),2)):x("",!0),t[7]||(t[7]=w("shopicon-regular-menu",null,null,-1))]),w("ul",Lt,[w("li",null,[_(a,{class:"dropdown-item",to:"/sessions","active-class":"active"},{default:M((()=>[A(L(e.$t("header.sessions")),1)])),_:1})]),t[9]||(t[9]=w("li",null,[w("hr",{class:"dropdown-divider"})],-1)),w("li",null,[w("button",{type:"button",class:"dropdown-item","data-testid":"topnavigation-settings",onClick:t[0]||(t[0]=(...e)=>i.openSettingsModal&&i.openSettingsModal(...e))},L(e.$t("settings.title")),1)]),i.batteryModalAvailable?(C(),y("li",Et,[w("button",{type:"button",class:"dropdown-item","data-testid":"topnavigation-battery",onClick:t[1]||(t[1]=(...e)=>i.openBatterySettingsModal&&i.openBatterySettingsModal(...e))},L(e.$t("batterySettings.modalTitle")),1)])):x("",!0),i.forecastAvailable?(C(),y("li",kt,[w("button",{type:"button",class:"dropdown-item","data-testid":"topnavigation-forecast",onClick:t[2]||(t[2]=(...e)=>i.openForecastModal&&i.openForecastModal(...e))},L(e.$t("forecast.modalTitle")),1)])):x("",!0),w("li",null,[_(a,{class:"dropdown-item",to:"/config","active-class":"active"},{default:M((()=>[i.showBadge?(C(),y("span",{key:0,class:O(["d-inline-block p-1 rounded-circle bg-warning rounded-circle",i.badgeClass])},null,2)):x("",!0),A(" "+L(e.$t("config.main.title")),1)])),_:1})]),w("li",null,[_(a,{class:"dropdown-item",to:"/log","active-class":"active"},{default:M((()=>[A(L(e.$t("log.title")),1)])),_:1})]),t[10]||(t[10]=w("li",null,[w("hr",{class:"dropdown-divider"})],-1)),i.providerLogins.length>0?(C(),y(E,{key:2},[t[8]||(t[8]=w("li",null,[w("hr",{class:"dropdown-divider"})],-1)),w("li",null,[w("h6",jt,L(e.$t("header.login")),1)]),(C(!0),y(E,null,k(i.providerLogins,(t=>(C(),y("li",{key:t.title},[w("button",{type:"button",class:"dropdown-item",onClick:e=>i.handleProviderAuthorization(t)},[t.loggedIn?x("",!0):(C(),y("span",{key:0,class:O(["d-inline-block p-1 rounded-circle border border-light rounded-circle",i.badgeClass])},null,2)),A(" "+L(t.title)+" "+L(e.$t(t.loggedIn?"main.provider.logout":"main.provider.login")),1)],8,Ct)])))),128))],64)):x("",!0),w("li",null,[w("button",{type:"button",class:"dropdown-item",onClick:t[3]||(t[3]=(...e)=>i.openHelpModal&&i.openHelpModal(...e))},[w("span",null,L(e.$t("header.needHelp")),1)])]),t[11]||(t[11]=w("li",null,[w("a",{class:"dropdown-item d-flex",href:"https://evcc.io/",target:"_blank"},[w("span",null,"evcc.io"),w("shopicon-regular-newtab",{size:"s",class:"ms-2 external"})])],-1)),r.isApp?(C(),y("li",At,[w("button",{type:"button",class:"dropdown-item",onClick:t[4]||(t[4]=(...e)=>i.openNativeSettings&&i.openNativeSettings(...e))},L(e.$t("header.nativeSettings")),1)])):x("",!0),i.showLogout?(C(),y("li",Ht,[w("button",{type:"button",class:"dropdown-item",onClick:t[5]||(t[5]=(...e)=>i.logout&&i.logout(...e))},L(e.$t("header.logout")),1)])):x("",!0)])])}],["__scopeId","data-v-59d536da"]]))}}}));
