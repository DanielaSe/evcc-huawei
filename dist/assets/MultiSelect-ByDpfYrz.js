import{D as h}from"./TopNavigation-BCd9W1gB.js";import{d as m}from"./deepEqual-DB6L2s-b.js";import{_ as p,c as o,a as t,l as f,h as b,F as i,t as u,r as v,o as r,w as _,L as k}from"./index-CN0w41DB.js";const w={name:"MultiSelect",props:{id:String,value:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]},selectAllLabel:String},emits:["open","update:modelValue"],data(){return{internalValue:[...this.value]}},computed:{allOptionsSelected(){return this.internalValue.length===this.options.length},noneSelected(){return this.internalValue.length===0}},watch:{options:{immediate:!0,handler(e){this.internalValue=this.internalValue.filter(l=>e.some(a=>a.value===l)),this.$nextTick(()=>{h.getOrCreateInstance(this.$refs.dropdown).update()})}},internalValue(e,l){m(e,l)||this.$emit("update:modelValue",e)}},mounted(){this.$refs.dropdown.addEventListener("show.bs.dropdown",this.open)},unmounted(){var e;(e=this.$refs.dropdown)==null||e.removeEventListener("show.bs.dropdown",this.open)},methods:{open(){this.$emit("open")},formId(e){return"".concat(this.id,"-").concat(e)},toggleCheckAll(){this.allOptionsSelected?this.internalValue=[]:this.internalValue=this.options.map(e=>e.value)}}},g=["id"],x=["aria-labelledby"],y={class:"dropdown-item p-0"},V=["for"],S=["id","checked"],A={class:"form-check-label"},L=["for"],C=["id","value"],I={class:"form-check-label"};function D(e,l,a,E,d,s){return r(),o("div",null,[t("button",{id:a.id,class:"form-select text-start text-nowrap",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-auto-close":"outside",tabindex:"0"},[f(e.$slots,"default")],8,g),t("ul",{ref:"dropdown",class:"dropdown-menu dropdown-menu-end","aria-labelledby":a.id},[a.selectAllLabel?(r(),o(i,{key:0},[t("li",y,[t("label",{class:"form-check px-3 py-2",for:s.formId("all")},[t("input",{id:s.formId("all"),class:"form-check-input ms-0 me-2",type:"checkbox",value:"all",tabindex:"0",checked:s.allOptionsSelected,onChange:l[0]||(l[0]=n=>s.toggleCheckAll())},null,40,S),t("div",A,u(a.selectAllLabel),1)],8,V)]),l[2]||(l[2]=t("li",null,[t("hr",{class:"dropdown-divider"})],-1))],64)):b("",!0),(r(!0),o(i,null,v(a.options,n=>(r(),o("li",{key:n.value,class:"dropdown-item p-0"},[t("label",{class:"form-check px-3 py-2 d-flex",for:s.formId(n.value)},[_(t("input",{id:s.formId(n.value),"onUpdate:modelValue":l[1]||(l[1]=c=>d.internalValue=c),class:"form-check-input ms-0 me-2",type:"checkbox",value:n.value,tabindex:"0"},null,8,C),[[k,d.internalValue]]),t("div",I,u(n.name),1)],8,L)]))),128))],8,x)])}const F=p(w,[["render",D]]);export{F as M};
