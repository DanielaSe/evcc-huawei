import{aM as Kt,ak as Xt,al as Gt,am as Qt,ah as Jt,aj as Zt,g as en,X as tn,_ as nn,x as rn,aN as on,aO as an,aP as sn,M as De,aQ as ln,aR as un,aS as pn,c as U,a as O,h as ie,n as We,b as ze,d as qe,t as z,F as dt,r as cn,e as fn,o as F,i as Ne}from"./index-CN0w41DB.js";var Se={exports:{}},k="top",V="bottom",j="right",B="left",$e="auto",Ae=[k,V,j,B],fe="start",ye="end",xt="clippingParents",Xe="viewport",me="popper",Tt="reference",Ue=Ae.reduce(function(e,t){return e.concat([t+"-"+fe,t+"-"+ye])},[]),Ge=[].concat(Ae,[$e]).reduce(function(e,t){return e.concat([t,t+"-"+fe,t+"-"+ye])},[]),Ct="beforeRead",_t="read",Mt="afterRead",Pt="beforeMain",Lt="main",Dt="afterMain",Nt="beforeWrite",Rt="write",St="afterWrite",kt=[Ct,_t,Mt,Pt,Lt,Dt,Nt,Rt,St];function Q(e){return e?(e.nodeName||"").toLowerCase():null}function W(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function de(e){var t=W(e).Element;return e instanceof t||e instanceof Element}function q(e){var t=W(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Qe(e){if(typeof ShadowRoot>"u")return!1;var t=W(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function dn(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var o=t.styles[n]||{},r=t.attributes[n]||{},i=t.elements[n];!q(i)||!Q(i)||(Object.assign(i.style,o),Object.keys(r).forEach(function(l){var a=r[l];a===!1?i.removeAttribute(l):i.setAttribute(l,a===!0?"":a)}))})}function vn(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(o){var r=t.elements[o],i=t.attributes[o]||{},l=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:n[o]),a=l.reduce(function(s,c){return s[c]="",s},{});!q(r)||!Q(r)||(Object.assign(r.style,a),Object.keys(i).forEach(function(s){r.removeAttribute(s)}))})}}const Je={name:"applyStyles",enabled:!0,phase:"write",fn:dn,effect:vn,requires:["computeStyles"]};function G(e){return e.split("-")[0]}var ce=Math.max,Be=Math.min,be=Math.round;function Fe(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Bt(){return!/^((?!chrome|android).)*safari/i.test(Fe())}function we(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var o=e.getBoundingClientRect(),r=1,i=1;t&&q(e)&&(r=e.offsetWidth>0&&be(o.width)/e.offsetWidth||1,i=e.offsetHeight>0&&be(o.height)/e.offsetHeight||1);var l=de(e)?W(e):window,a=l.visualViewport,s=!Bt()&&n,c=(o.left+(s&&a?a.offsetLeft:0))/r,u=(o.top+(s&&a?a.offsetTop:0))/i,m=o.width/r,v=o.height/i;return{width:m,height:v,top:u,right:c+m,bottom:u+v,left:c,x:c,y:u}}function Ze(e){var t=we(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function $t(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Qe(n)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function oe(e){return W(e).getComputedStyle(e)}function hn(e){return["table","td","th"].indexOf(Q(e))>=0}function se(e){return((de(e)?e.ownerDocument:e.document)||window.document).documentElement}function He(e){return Q(e)==="html"?e:e.assignedSlot||e.parentNode||(Qe(e)?e.host:null)||se(e)}function vt(e){return!q(e)||oe(e).position==="fixed"?null:e.offsetParent}function gn(e){var t=/firefox/i.test(Fe()),n=/Trident/i.test(Fe());if(n&&q(e)){var o=oe(e);if(o.position==="fixed")return null}var r=He(e);for(Qe(r)&&(r=r.host);q(r)&&["html","body"].indexOf(Q(r))<0;){var i=oe(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function Pe(e){for(var t=W(e),n=vt(e);n&&hn(n)&&oe(n).position==="static";)n=vt(n);return n&&(Q(n)==="html"||Q(n)==="body"&&oe(n).position==="static")?t:n||gn(e)||t}function et(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function _e(e,t,n){return ce(e,Be(t,n))}function mn(e,t,n){var o=_e(e,t,n);return o>n?n:o}function Ht(){return{top:0,right:0,bottom:0,left:0}}function It(e){return Object.assign({},Ht(),e)}function Vt(e,t){return t.reduce(function(n,o){return n[o]=e,n},{})}var yn=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,It(typeof t!="number"?t:Vt(t,Ae))};function bn(e){var t,n=e.state,o=e.name,r=e.options,i=n.elements.arrow,l=n.modifiersData.popperOffsets,a=G(n.placement),s=et(a),c=[B,j].indexOf(a)>=0,u=c?"height":"width";if(!(!i||!l)){var m=yn(r.padding,n),v=Ze(i),f=s==="y"?k:B,A=s==="y"?V:j,h=n.rects.reference[u]+n.rects.reference[s]-l[s]-n.rects.popper[u],g=l[s]-n.rects.reference[s],E=Pe(i),C=E?s==="y"?E.clientHeight||0:E.clientWidth||0:0,_=h/2-g/2,d=m[f],y=C-v[u]-m[A],b=C/2-v[u]/2+_,T=_e(d,b,y),P=s;n.modifiersData[o]=(t={},t[P]=T,t.centerOffset=T-b,t)}}function wn(e){var t=e.state,n=e.options,o=n.element,r=o===void 0?"[data-popper-arrow]":o;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||$t(t.elements.popper,r)&&(t.elements.arrow=r))}const jt={name:"arrow",enabled:!0,phase:"main",fn:bn,effect:wn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Oe(e){return e.split("-")[1]}var On={top:"auto",right:"auto",bottom:"auto",left:"auto"};function En(e,t){var n=e.x,o=e.y,r=t.devicePixelRatio||1;return{x:be(n*r)/r||0,y:be(o*r)/r||0}}function ht(e){var t,n=e.popper,o=e.popperRect,r=e.placement,i=e.variation,l=e.offsets,a=e.position,s=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,m=e.isFixed,v=l.x,f=v===void 0?0:v,A=l.y,h=A===void 0?0:A,g=typeof u=="function"?u({x:f,y:h}):{x:f,y:h};f=g.x,h=g.y;var E=l.hasOwnProperty("x"),C=l.hasOwnProperty("y"),_=B,d=k,y=window;if(c){var b=Pe(n),T="clientHeight",P="clientWidth";if(b===W(n)&&(b=se(n),oe(b).position!=="static"&&a==="absolute"&&(T="scrollHeight",P="scrollWidth")),b=b,r===k||(r===B||r===j)&&i===ye){d=V;var L=m&&b===y&&y.visualViewport?y.visualViewport.height:b[T];h-=L-o.height,h*=s?1:-1}if(r===B||(r===k||r===V)&&i===ye){_=j;var x=m&&b===y&&y.visualViewport?y.visualViewport.width:b[P];f-=x-o.width,f*=s?1:-1}}var D=Object.assign({position:a},c&&On),$=u===!0?En({x:f,y:h},W(n)):{x:f,y:h};if(f=$.x,h=$.y,s){var R;return Object.assign({},D,(R={},R[d]=C?"0":"",R[_]=E?"0":"",R.transform=(y.devicePixelRatio||1)<=1?"translate("+f+"px, "+h+"px)":"translate3d("+f+"px, "+h+"px, 0)",R))}return Object.assign({},D,(t={},t[d]=C?h+"px":"",t[_]=E?f+"px":"",t.transform="",t))}function An(e){var t=e.state,n=e.options,o=n.gpuAcceleration,r=o===void 0?!0:o,i=n.adaptive,l=i===void 0?!0:i,a=n.roundOffsets,s=a===void 0?!0:a,c={placement:G(t.placement),variation:Oe(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,ht(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:s})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,ht(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const tt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:An,data:{}};var Re={passive:!0};function xn(e){var t=e.state,n=e.instance,o=e.options,r=o.scroll,i=r===void 0?!0:r,l=o.resize,a=l===void 0?!0:l,s=W(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",n.update,Re)}),a&&s.addEventListener("resize",n.update,Re),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Re)}),a&&s.removeEventListener("resize",n.update,Re)}}const nt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xn,data:{}};var Tn={left:"right",right:"left",bottom:"top",top:"bottom"};function ke(e){return e.replace(/left|right|bottom|top/g,function(t){return Tn[t]})}var Cn={start:"end",end:"start"};function gt(e){return e.replace(/start|end/g,function(t){return Cn[t]})}function rt(e){var t=W(e),n=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:n,scrollTop:o}}function ot(e){return we(se(e)).left+rt(e).scrollLeft}function _n(e,t){var n=W(e),o=se(e),r=n.visualViewport,i=o.clientWidth,l=o.clientHeight,a=0,s=0;if(r){i=r.width,l=r.height;var c=Bt();(c||!c&&t==="fixed")&&(a=r.offsetLeft,s=r.offsetTop)}return{width:i,height:l,x:a+ot(e),y:s}}function Mn(e){var t,n=se(e),o=rt(e),r=(t=e.ownerDocument)==null?void 0:t.body,i=ce(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),l=ce(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-o.scrollLeft+ot(e),s=-o.scrollTop;return oe(r||n).direction==="rtl"&&(a+=ce(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:l,x:a,y:s}}function at(e){var t=oe(e),n=t.overflow,o=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function Wt(e){return["html","body","#document"].indexOf(Q(e))>=0?e.ownerDocument.body:q(e)&&at(e)?e:Wt(He(e))}function Me(e,t){var n;t===void 0&&(t=[]);var o=Wt(e),r=o===((n=e.ownerDocument)==null?void 0:n.body),i=W(o),l=r?[i].concat(i.visualViewport||[],at(o)?o:[]):o,a=t.concat(l);return r?a:a.concat(Me(He(l)))}function Ye(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Pn(e,t){var n=we(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function mt(e,t,n){return t===Xe?Ye(_n(e,n)):de(t)?Pn(t,n):Ye(Mn(se(e)))}function Ln(e){var t=Me(He(e)),n=["absolute","fixed"].indexOf(oe(e).position)>=0,o=n&&q(e)?Pe(e):e;return de(o)?t.filter(function(r){return de(r)&&$t(r,o)&&Q(r)!=="body"}):[]}function Dn(e,t,n,o){var r=t==="clippingParents"?Ln(e):[].concat(t),i=[].concat(r,[n]),l=i[0],a=i.reduce(function(s,c){var u=mt(e,c,o);return s.top=ce(u.top,s.top),s.right=Be(u.right,s.right),s.bottom=Be(u.bottom,s.bottom),s.left=ce(u.left,s.left),s},mt(e,l,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function zt(e){var t=e.reference,n=e.element,o=e.placement,r=o?G(o):null,i=o?Oe(o):null,l=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,s;switch(r){case k:s={x:l,y:t.y-n.height};break;case V:s={x:l,y:t.y+t.height};break;case j:s={x:t.x+t.width,y:a};break;case B:s={x:t.x-n.width,y:a};break;default:s={x:t.x,y:t.y}}var c=r?et(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case fe:s[c]=s[c]-(t[u]/2-n[u]/2);break;case ye:s[c]=s[c]+(t[u]/2-n[u]/2);break}}return s}function Ee(e,t){t===void 0&&(t={});var n=t,o=n.placement,r=o===void 0?e.placement:o,i=n.strategy,l=i===void 0?e.strategy:i,a=n.boundary,s=a===void 0?xt:a,c=n.rootBoundary,u=c===void 0?Xe:c,m=n.elementContext,v=m===void 0?me:m,f=n.altBoundary,A=f===void 0?!1:f,h=n.padding,g=h===void 0?0:h,E=It(typeof g!="number"?g:Vt(g,Ae)),C=v===me?Tt:me,_=e.rects.popper,d=e.elements[A?C:v],y=Dn(de(d)?d:d.contextElement||se(e.elements.popper),s,u,l),b=we(e.elements.reference),T=zt({reference:b,element:_,placement:r}),P=Ye(Object.assign({},_,T)),L=v===me?P:b,x={top:y.top-L.top+E.top,bottom:L.bottom-y.bottom+E.bottom,left:y.left-L.left+E.left,right:L.right-y.right+E.right},D=e.modifiersData.offset;if(v===me&&D){var $=D[r];Object.keys(x).forEach(function(R){var J=[j,V].indexOf(R)>=0?1:-1,Z=[k,V].indexOf(R)>=0?"y":"x";x[R]+=$[Z]*J})}return x}function Nn(e,t){t===void 0&&(t={});var n=t,o=n.placement,r=n.boundary,i=n.rootBoundary,l=n.padding,a=n.flipVariations,s=n.allowedAutoPlacements,c=s===void 0?Ge:s,u=Oe(o),m=u?a?Ue:Ue.filter(function(A){return Oe(A)===u}):Ae,v=m.filter(function(A){return c.indexOf(A)>=0});v.length===0&&(v=m);var f=v.reduce(function(A,h){return A[h]=Ee(e,{placement:h,boundary:r,rootBoundary:i,padding:l})[G(h)],A},{});return Object.keys(f).sort(function(A,h){return f[A]-f[h]})}function Rn(e){if(G(e)===$e)return[];var t=ke(e);return[gt(e),t,gt(t)]}function Sn(e){var t=e.state,n=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var r=n.mainAxis,i=r===void 0?!0:r,l=n.altAxis,a=l===void 0?!0:l,s=n.fallbackPlacements,c=n.padding,u=n.boundary,m=n.rootBoundary,v=n.altBoundary,f=n.flipVariations,A=f===void 0?!0:f,h=n.allowedAutoPlacements,g=t.options.placement,E=G(g),C=E===g,_=s||(C||!A?[ke(g)]:Rn(g)),d=[g].concat(_).reduce(function(ae,Y){return ae.concat(G(Y)===$e?Nn(t,{placement:Y,boundary:u,rootBoundary:m,padding:c,flipVariations:A,allowedAutoPlacements:h}):Y)},[]),y=t.rects.reference,b=t.rects.popper,T=new Map,P=!0,L=d[0],x=0;x<d.length;x++){var D=d[x],$=G(D),R=Oe(D)===fe,J=[k,V].indexOf($)>=0,Z=J?"width":"height",M=Ee(t,{placement:D,boundary:u,rootBoundary:m,altBoundary:v,padding:c}),H=J?R?j:B:R?V:k;y[Z]>b[Z]&&(H=ke(H));var ee=ke(H),te=[];if(i&&te.push(M[$]<=0),a&&te.push(M[H]<=0,M[ee]<=0),te.every(function(ae){return ae})){L=D,P=!1;break}T.set(D,te)}if(P)for(var ve=A?3:1,xe=function(Y){var ue=d.find(function(ge){var ne=T.get(ge);if(ne)return ne.slice(0,Y).every(function(Te){return Te})});if(ue)return L=ue,"break"},le=ve;le>0;le--){var he=xe(le);if(he==="break")break}t.placement!==L&&(t.modifiersData[o]._skip=!0,t.placement=L,t.reset=!0)}}const qt={name:"flip",enabled:!0,phase:"main",fn:Sn,requiresIfExists:["offset"],data:{_skip:!1}};function yt(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function bt(e){return[k,j,V,B].some(function(t){return e[t]>=0})}function kn(e){var t=e.state,n=e.name,o=t.rects.reference,r=t.rects.popper,i=t.modifiersData.preventOverflow,l=Ee(t,{elementContext:"reference"}),a=Ee(t,{altBoundary:!0}),s=yt(l,o),c=yt(a,r,i),u=bt(s),m=bt(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":m})}const Ut={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:kn};function Bn(e,t,n){var o=G(e),r=[B,k].indexOf(o)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,l=i[0],a=i[1];return l=l||0,a=(a||0)*r,[B,j].indexOf(o)>=0?{x:a,y:l}:{x:l,y:a}}function $n(e){var t=e.state,n=e.options,o=e.name,r=n.offset,i=r===void 0?[0,0]:r,l=Ge.reduce(function(u,m){return u[m]=Bn(m,t.rects,i),u},{}),a=l[t.placement],s=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[o]=l}const Ft={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$n};function Hn(e){var t=e.state,n=e.name;t.modifiersData[n]=zt({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const it={name:"popperOffsets",enabled:!0,phase:"read",fn:Hn,data:{}};function In(e){return e==="x"?"y":"x"}function Vn(e){var t=e.state,n=e.options,o=e.name,r=n.mainAxis,i=r===void 0?!0:r,l=n.altAxis,a=l===void 0?!1:l,s=n.boundary,c=n.rootBoundary,u=n.altBoundary,m=n.padding,v=n.tether,f=v===void 0?!0:v,A=n.tetherOffset,h=A===void 0?0:A,g=Ee(t,{boundary:s,rootBoundary:c,padding:m,altBoundary:u}),E=G(t.placement),C=Oe(t.placement),_=!C,d=et(E),y=In(d),b=t.modifiersData.popperOffsets,T=t.rects.reference,P=t.rects.popper,L=typeof h=="function"?h(Object.assign({},t.rects,{placement:t.placement})):h,x=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,$={x:0,y:0};if(b){if(i){var R,J=d==="y"?k:B,Z=d==="y"?V:j,M=d==="y"?"height":"width",H=b[d],ee=H+g[J],te=H-g[Z],ve=f?-P[M]/2:0,xe=C===fe?T[M]:P[M],le=C===fe?-P[M]:-T[M],he=t.elements.arrow,ae=f&&he?Ze(he):{width:0,height:0},Y=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Ht(),ue=Y[J],ge=Y[Z],ne=_e(0,T[M],ae[M]),Te=_?T[M]/2-ve-ne-ue-x.mainAxis:xe-ne-ue-x.mainAxis,Ve=_?-T[M]/2+ve+ne+ge+x.mainAxis:le+ne+ge+x.mainAxis,Ce=t.elements.arrow&&Pe(t.elements.arrow),I=Ce?d==="y"?Ce.clientTop||0:Ce.clientLeft||0:0,K=(R=D==null?void 0:D[d])!=null?R:0,p=H+Te-K-I,w=H+Ve-K,N=_e(f?Be(ee,p):ee,H,f?ce(te,w):te);b[d]=N,$[d]=N-H}if(a){var S,pe=d==="x"?k:B,re=d==="x"?V:j,X=b[y],Le=y==="y"?"height":"width",st=X+g[pe],lt=X-g[re],je=[k,B].indexOf(E)!==-1,ut=(S=D==null?void 0:D[y])!=null?S:0,pt=je?st:X-T[Le]-P[Le]-ut+x.altAxis,ct=je?X+T[Le]+P[Le]-ut-x.altAxis:lt,ft=f&&je?mn(pt,X,ct):_e(f?pt:st,X,f?ct:lt);b[y]=ft,$[y]=ft-X}t.modifiersData[o]=$}}const Yt={name:"preventOverflow",enabled:!0,phase:"main",fn:Vn,requiresIfExists:["offset"]};function jn(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Wn(e){return e===W(e)||!q(e)?rt(e):jn(e)}function zn(e){var t=e.getBoundingClientRect(),n=be(t.width)/e.offsetWidth||1,o=be(t.height)/e.offsetHeight||1;return n!==1||o!==1}function qn(e,t,n){n===void 0&&(n=!1);var o=q(t),r=q(t)&&zn(t),i=se(t),l=we(e,r,n),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(o||!o&&!n)&&((Q(t)!=="body"||at(i))&&(a=Wn(t)),q(t)?(s=we(t,!0),s.x+=t.clientLeft,s.y+=t.clientTop):i&&(s.x=ot(i))),{x:l.left+a.scrollLeft-s.x,y:l.top+a.scrollTop-s.y,width:l.width,height:l.height}}function Un(e){var t=new Map,n=new Set,o=[];e.forEach(function(i){t.set(i.name,i)});function r(i){n.add(i.name);var l=[].concat(i.requires||[],i.requiresIfExists||[]);l.forEach(function(a){if(!n.has(a)){var s=t.get(a);s&&r(s)}}),o.push(i)}return e.forEach(function(i){n.has(i.name)||r(i)}),o}function Fn(e){var t=Un(e);return kt.reduce(function(n,o){return n.concat(t.filter(function(r){return r.phase===o}))},[])}function Yn(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Kn(e){var t=e.reduce(function(n,o){var r=n[o.name];return n[o.name]=r?Object.assign({},r,o,{options:Object.assign({},r.options,o.options),data:Object.assign({},r.data,o.data)}):o,n},{});return Object.keys(t).map(function(n){return t[n]})}var wt={placement:"bottom",modifiers:[],strategy:"absolute"};function Ot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function Ie(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,o=n===void 0?[]:n,r=t.defaultOptions,i=r===void 0?wt:r;return function(a,s,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},wt,i),modifiersData:{},elements:{reference:a,popper:s},attributes:{},styles:{}},m=[],v=!1,f={state:u,setOptions:function(E){var C=typeof E=="function"?E(u.options):E;h(),u.options=Object.assign({},i,u.options,C),u.scrollParents={reference:de(a)?Me(a):a.contextElement?Me(a.contextElement):[],popper:Me(s)};var _=Fn(Kn([].concat(o,u.options.modifiers)));return u.orderedModifiers=_.filter(function(d){return d.enabled}),A(),f.update()},forceUpdate:function(){if(!v){var E=u.elements,C=E.reference,_=E.popper;if(Ot(C,_)){u.rects={reference:qn(C,Pe(_),u.options.strategy==="fixed"),popper:Ze(_)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(x){return u.modifiersData[x.name]=Object.assign({},x.data)});for(var d=0;d<u.orderedModifiers.length;d++){if(u.reset===!0){u.reset=!1,d=-1;continue}var y=u.orderedModifiers[d],b=y.fn,T=y.options,P=T===void 0?{}:T,L=y.name;typeof b=="function"&&(u=b({state:u,options:P,name:L,instance:f})||u)}}}},update:Yn(function(){return new Promise(function(g){f.forceUpdate(),g(u)})}),destroy:function(){h(),v=!0}};if(!Ot(a,s))return f;f.setOptions(c).then(function(g){!v&&c.onFirstUpdate&&c.onFirstUpdate(g)});function A(){u.orderedModifiers.forEach(function(g){var E=g.name,C=g.options,_=C===void 0?{}:C,d=g.effect;if(typeof d=="function"){var y=d({state:u,name:E,instance:f,options:_}),b=function(){};m.push(y||b)}})}function h(){m.forEach(function(g){return g()}),m=[]}return f}}var Xn=Ie(),Gn=[nt,it,tt,Je],Qn=Ie({defaultModifiers:Gn}),Jn=[nt,it,tt,Je,Ft,qt,Yt,jt,Ut],Zn=Ie({defaultModifiers:Jn});const er=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Dt,afterRead:Mt,afterWrite:St,applyStyles:Je,arrow:jt,auto:$e,basePlacements:Ae,beforeMain:Pt,beforeRead:Ct,beforeWrite:Nt,bottom:V,clippingParents:xt,computeStyles:tt,createPopper:Zn,createPopperBase:Xn,createPopperLite:Qn,detectOverflow:Ee,end:ye,eventListeners:nt,flip:qt,hide:Ut,left:B,main:Lt,modifierPhases:kt,offset:Ft,placements:Ge,popper:me,popperGenerator:Ie,popperOffsets:it,preventOverflow:Yt,read:_t,reference:Tt,right:j,start:fe,top:k,variationPlacements:Ue,viewport:Xe,write:Rt},Symbol.toStringTag,{value:"Module"})),tr=Kt(er);/*!
  * Bootstrap dropdown.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var nr=Se.exports,Et;function rr(){return Et||(Et=1,function(e,t){(function(n,o){e.exports=o(tr,Xt(),Gt(),Qt(),Jt(),Zt())})(nr,function(n,o,r,i,l,a){function s(K){const p=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(K){for(const w in K)if(w!=="default"){const N=Object.getOwnPropertyDescriptor(K,w);Object.defineProperty(p,w,N.get?N:{enumerable:!0,get:()=>K[w]})}}return p.default=K,Object.freeze(p)}const c=s(n),u="dropdown",v=".".concat("bs.dropdown"),f=".data-api",A="Escape",h="Tab",g="ArrowUp",E="ArrowDown",C=2,_="hide".concat(v),d="hidden".concat(v),y="show".concat(v),b="shown".concat(v),T="click".concat(v).concat(f),P="keydown".concat(v).concat(f),L="keyup".concat(v).concat(f),x="show",D="dropup",$="dropend",R="dropstart",J="dropup-center",Z="dropdown-center",M='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',H="".concat(M,".").concat(x),ee=".dropdown-menu",te=".navbar",ve=".navbar-nav",xe=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",le=a.isRTL()?"top-end":"top-start",he=a.isRTL()?"top-start":"top-end",ae=a.isRTL()?"bottom-end":"bottom-start",Y=a.isRTL()?"bottom-start":"bottom-end",ue=a.isRTL()?"left-start":"right-start",ge=a.isRTL()?"right-start":"left-start",ne="top",Te="bottom",Ve={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ce={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class I extends o{constructor(p,w){super(p,w),this._popper=null,this._parent=this._element.parentNode,this._menu=l.next(this._element,ee)[0]||l.prev(this._element,ee)[0]||l.findOne(ee,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Ve}static get DefaultType(){return Ce}static get NAME(){return u}toggle(){return this._isShown()?this.hide():this.show()}show(){if(a.isDisabled(this._element)||this._isShown())return;const p={relatedTarget:this._element};if(!r.trigger(this._element,y,p).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(ve))for(const N of[].concat(...document.body.children))r.on(N,"mouseover",a.noop);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(x),this._element.classList.add(x),r.trigger(this._element,b,p)}}hide(){if(a.isDisabled(this._element)||!this._isShown())return;const p={relatedTarget:this._element};this._completeHide(p)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(p){if(!r.trigger(this._element,_,p).defaultPrevented){if("ontouchstart"in document.documentElement)for(const N of[].concat(...document.body.children))r.off(N,"mouseover",a.noop);this._popper&&this._popper.destroy(),this._menu.classList.remove(x),this._element.classList.remove(x),this._element.setAttribute("aria-expanded","false"),i.removeDataAttribute(this._menu,"popper"),r.trigger(this._element,d,p)}}_getConfig(p){if(p=super._getConfig(p),typeof p.reference=="object"&&!a.isElement(p.reference)&&typeof p.reference.getBoundingClientRect!="function")throw new TypeError("".concat(u.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'));return p}_createPopper(){if(typeof c>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let p=this._element;this._config.reference==="parent"?p=this._parent:a.isElement(this._config.reference)?p=a.getElement(this._config.reference):typeof this._config.reference=="object"&&(p=this._config.reference);const w=this._getPopperConfig();this._popper=c.createPopper(p,this._menu,w)}_isShown(){return this._menu.classList.contains(x)}_getPlacement(){const p=this._parent;if(p.classList.contains($))return ue;if(p.classList.contains(R))return ge;if(p.classList.contains(J))return ne;if(p.classList.contains(Z))return Te;const w=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return p.classList.contains(D)?w?he:le:w?Y:ae}_detectNavbar(){return this._element.closest(te)!==null}_getOffset(){const{offset:p}=this._config;return typeof p=="string"?p.split(",").map(w=>Number.parseInt(w,10)):typeof p=="function"?w=>p(w,this._element):p}_getPopperConfig(){const p={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(i.setDataAttribute(this._menu,"popper","static"),p.modifiers=[{name:"applyStyles",enabled:!1}]),{...p,...a.execute(this._config.popperConfig,[p])}}_selectMenuItem({key:p,target:w}){const N=l.find(xe,this._menu).filter(S=>a.isVisible(S));N.length&&a.getNextActiveElement(N,w,p===E,!N.includes(w)).focus()}static jQueryInterface(p){return this.each(function(){const w=I.getOrCreateInstance(this,p);if(typeof p=="string"){if(typeof w[p]>"u")throw new TypeError('No method named "'.concat(p,'"'));w[p]()}})}static clearMenus(p){if(p.button===C||p.type==="keyup"&&p.key!==h)return;const w=l.find(H);for(const N of w){const S=I.getInstance(N);if(!S||S._config.autoClose===!1)continue;const pe=p.composedPath(),re=pe.includes(S._menu);if(pe.includes(S._element)||S._config.autoClose==="inside"&&!re||S._config.autoClose==="outside"&&re||S._menu.contains(p.target)&&(p.type==="keyup"&&p.key===h||/input|select|option|textarea|form/i.test(p.target.tagName)))continue;const X={relatedTarget:S._element};p.type==="click"&&(X.clickEvent=p),S._completeHide(X)}}static dataApiKeydownHandler(p){const w=/input|textarea/i.test(p.target.tagName),N=p.key===A,S=[g,E].includes(p.key);if(!S&&!N||w&&!N)return;p.preventDefault();const pe=this.matches(M)?this:l.prev(this,M)[0]||l.next(this,M)[0]||l.findOne(M,p.delegateTarget.parentNode),re=I.getOrCreateInstance(pe);if(S){p.stopPropagation(),re.show(),re._selectMenuItem(p);return}re._isShown()&&(p.stopPropagation(),re.hide(),pe.focus())}}return r.on(document,P,M,I.dataApiKeydownHandler),r.on(document,P,ee,I.dataApiKeydownHandler),r.on(document,T,I.clearMenus),r.on(document,L,I.clearMenus),r.on(document,T,M,function(K){K.preventDefault(),I.getOrCreateInstance(this).toggle()}),a.defineJQueryPlugin(I),I})}(Se)),Se.exports}var or=rr();const ar=en(or);var ir='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M0 0h48v48H0z" fill="none"/><path d="M8 44h32c2.2 0 4-1.8 4-4V16c0-2.2-1.8-4-4-4h-4.349A5.97 5.97 0 0036 10a6 6 0 10-11.849 1.323L24 11.172l-.151.151c.096-.426.151-.868.151-1.323a6 6 0 10-12 0c0 .702.127 1.374.349 2H8c-2.2 0-4 1.8-4 4v24c0 2.2 1.8 4 4 4zM30 8c1.103 0 2 .897 2 2s-.897 2-2 2-2-.897-2-2 .897-2 2-2zm-4 10.828l6 6L34.828 22l-6-6H40v11H26v-8.172zM26 31h14v9H26v-9zM18 8c1.103 0 2 .897 2 2s-.897 2-2 2-2-.897-2-2 .897-2 2-2zM8 16h11.172l-6 6L16 24.828l6-6V27H8V16zm0 15h14v9H8v-9z"/></svg>';class sr extends HTMLElement{connectedCallback(){this.setAttribute("data-shopicon",!0),this.innerHTML=ir}}window.customElements.define("shopicon-regular-gift",sr);var lr='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M0 0h48v48H0z" fill="none"/><path d="M26 4v4.001h-4.001v4H26v4h4v-4h4v-4h-4V4z"/><path d="M22.585 25.415a15.979 15.979 0 01-3.512-17.342l-2.605-2.605C3.431 10.489-.255 28.434 9.858 38.143c9.864 10.092 27.519 6.511 32.674-6.609l-2.605-2.606a15.98 15.98 0 01-17.342-3.513zm12.729 9.899c-6.238 6.238-16.388 6.238-22.628 0-6.75-6.66-6.076-18.023 1.382-23.861-1.912 12.79 9.689 24.4 22.479 22.479-.382.481-.793.942-1.233 1.382z"/><path d="M32 22l4-4 4 4-4 4z"/></svg>';class ur extends HTMLElement{connectedCallback(){this.setAttribute("data-shopicon",!0),this.innerHTML=lr}}window.customElements.define("shopicon-regular-moonstars",ur);var pr='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M0 0h48v48H0z" fill="none"/><path d="M8.036 12H40v4H8.036zM8.036 22H40v4H8.036zM8.036 32H40v4H8.036z"/></svg>';class cr extends HTMLElement{connectedCallback(){this.setAttribute("data-shopicon",!0),this.innerHTML=pr}}window.customElements.define("shopicon-regular-menu",cr);var fr='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M0 0h48v48H0z" fill="none"/><path d="M40 38H8V10h12V6H4v36h40V30h-4z"/><path d="M26 6v4h11.172l-14 14L26 26.828l14-14V24h4V6z"/></svg>';class dr extends HTMLElement{connectedCallback(){this.setAttribute("data-shopicon",!0),this.innerHTML=fr}}window.customElements.define("shopicon-regular-newtab",dr);const{protocol:vr,hostname:hr,port:At,pathname:gr}=window.location,Ke=tn.create({baseURL:vr+"//"+hr+(At?":"+At:"")+gr});Ke.interceptors.response.use(e=>e,e=>{const t=e.config.baseURL+e.config.url,n="".concat(e.message,": API request failed ").concat(t);window.app.raise({message:n})});const mr={name:"TopNavigation",mixins:[rn],props:{vehicleLogins:{type:Object,default:()=>({})},sponsor:{type:Object,default:()=>({})},forecast:Object,battery:Array,fatal:Object},data(){return{isApp:pn()}},computed:{batteryConfigured:function(){var e;return(e=this.battery)==null?void 0:e.length},logoutCount(){return this.providerLogins.filter(e=>!e.loggedIn).length},providerLogins(){return Object.entries(this.vehicleLogins).map(([e,t])=>({title:e,loggedIn:t.authenticated,loginPath:t.uri+"/login",logoutPath:t.uri+"/logout"}))},loginRequired(){return this.logoutCount>0},showBadge(){const e=un(this.fatal);return this.loginRequired||this.sponsor.expiresSoon||e},badgeClass(){var e;return(e=this.fatal)!=null&&e.error?"bg-danger":"bg-warning"},batteryModalAvailable(){return this.batteryConfigured},forecastAvailable(){const{grid:e,solar:t,co2:n}=this.forecast||{};return e||t||n},showLogout(){return ln()}},mounted(){document.getElementById("topNavigatonDropdown")&&(this.dropdown=new ar(document.getElementById("topNavigatonDropdown")))},unmounted(){var e;(e=this.dropdown)==null||e.dispose()},methods:{handleProviderAuthorization:async function(e){e.loggedIn?Ke.post(e.logoutPath):Ke.post(e.loginPath).then(function(t){window.location.href=t.data.loginUri})},openSettingsModal(){De.getOrCreateInstance(document.getElementById("globalSettingsModal")).show()},openHelpModal(){De.getOrCreateInstance(document.getElementById("helpModal")).show()},openBatterySettingsModal(){De.getOrCreateInstance(document.getElementById("batterySettingsModal")).show()},openForecastModal(){De.getOrCreateInstance(document.getElementById("forecastModal")).show()},openNativeSettings(){sn({type:"settings"})},async login(){an()},async logout(){await on(),this.$router.push({path:"/"})}}},yr={id:"topNavigatonDropdown",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",class:"btn btn-sm btn-outline-secondary position-relative border-0 menu-button","data-testid":"topnavigation-button"},br={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"topNavigatonDropdown","data-testid":"topnavigation-dropdown"},wr={key:0},Or={key:1},Er={class:"dropdown-header"},Ar=["onClick"],xr={key:3},Tr={key:4};function Cr(e,t,n,o,r,i){const l=fn("router-link");return F(),U("div",null,[O("button",yr,[i.showBadge?(F(),U("span",{key:0,class:We(["position-absolute top-0 start-100 translate-middle p-2 rounded-circle",i.badgeClass])},t[6]||(t[6]=[O("span",{class:"visually-hidden"},"action required",-1)]),2)):ie("",!0),t[7]||(t[7]=O("shopicon-regular-menu",null,null,-1))]),O("ul",br,[O("li",null,[ze(l,{class:"dropdown-item",to:"/sessions","active-class":"active"},{default:qe(()=>[Ne(z(e.$t("header.sessions")),1)]),_:1})]),t[9]||(t[9]=O("li",null,[O("hr",{class:"dropdown-divider"})],-1)),O("li",null,[O("button",{type:"button",class:"dropdown-item","data-testid":"topnavigation-settings",onClick:t[0]||(t[0]=(...a)=>i.openSettingsModal&&i.openSettingsModal(...a))},z(e.$t("settings.title")),1)]),i.batteryModalAvailable?(F(),U("li",wr,[O("button",{type:"button",class:"dropdown-item","data-testid":"topnavigation-battery",onClick:t[1]||(t[1]=(...a)=>i.openBatterySettingsModal&&i.openBatterySettingsModal(...a))},z(e.$t("batterySettings.modalTitle")),1)])):ie("",!0),i.forecastAvailable?(F(),U("li",Or,[O("button",{type:"button",class:"dropdown-item","data-testid":"topnavigation-forecast",onClick:t[2]||(t[2]=(...a)=>i.openForecastModal&&i.openForecastModal(...a))},z(e.$t("forecast.modalTitle")),1)])):ie("",!0),O("li",null,[ze(l,{class:"dropdown-item",to:"/config","active-class":"active"},{default:qe(()=>[i.showBadge?(F(),U("span",{key:0,class:We(["d-inline-block p-1 rounded-circle bg-warning rounded-circle",i.badgeClass])},null,2)):ie("",!0),Ne(" "+z(e.$t("config.main.title")),1)]),_:1})]),O("li",null,[ze(l,{class:"dropdown-item",to:"/log","active-class":"active"},{default:qe(()=>[Ne(z(e.$t("log.title")),1)]),_:1})]),t[10]||(t[10]=O("li",null,[O("hr",{class:"dropdown-divider"})],-1)),i.providerLogins.length>0?(F(),U(dt,{key:2},[t[8]||(t[8]=O("li",null,[O("hr",{class:"dropdown-divider"})],-1)),O("li",null,[O("h6",Er,z(e.$t("header.login")),1)]),(F(!0),U(dt,null,cn(i.providerLogins,a=>(F(),U("li",{key:a.title},[O("button",{type:"button",class:"dropdown-item",onClick:s=>i.handleProviderAuthorization(a)},[a.loggedIn?ie("",!0):(F(),U("span",{key:0,class:We(["d-inline-block p-1 rounded-circle border border-light rounded-circle",i.badgeClass])},null,2)),Ne(" "+z(a.title)+" "+z(e.$t(a.loggedIn?"main.provider.logout":"main.provider.login")),1)],8,Ar)]))),128))],64)):ie("",!0),O("li",null,[O("button",{type:"button",class:"dropdown-item",onClick:t[3]||(t[3]=(...a)=>i.openHelpModal&&i.openHelpModal(...a))},[O("span",null,z(e.$t("header.needHelp")),1)])]),t[11]||(t[11]=O("li",null,[O("a",{class:"dropdown-item d-flex",href:"https://evcc.io/",target:"_blank"},[O("span",null,"evcc.io"),O("shopicon-regular-newtab",{size:"s",class:"ms-2 external"})])],-1)),r.isApp?(F(),U("li",xr,[O("button",{type:"button",class:"dropdown-item",onClick:t[4]||(t[4]=(...a)=>i.openNativeSettings&&i.openNativeSettings(...a))},z(e.$t("header.nativeSettings")),1)])):ie("",!0),i.showLogout?(F(),U("li",Tr,[O("button",{type:"button",class:"dropdown-item",onClick:t[5]||(t[5]=(...a)=>i.logout&&i.logout(...a))},z(e.$t("header.logout")),1)])):ie("",!0)])])}const Mr=nn(mr,[["render",Cr],["__scopeId","data-v-59d536da"]]);export{ar as D,Mr as T,tr as r};
